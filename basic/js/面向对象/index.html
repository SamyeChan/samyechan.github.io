<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>面向对象 | Hey, I&#39;m Front C</title>
    <meta name="description" content="Just note all I know OR don&#39;t know">
    
    
    <link rel="preload" href="/assets/css/0.styles.cd5c72c6.css" as="style"><link rel="preload" href="/assets/js/app.5a4a4458.js" as="script"><link rel="preload" href="/assets/js/5.e78c3510.js" as="script"><link rel="prefetch" href="/assets/js/10.4adb0fba.js"><link rel="prefetch" href="/assets/js/100.a67fc97a.js"><link rel="prefetch" href="/assets/js/101.02d3c54c.js"><link rel="prefetch" href="/assets/js/102.d663b1d7.js"><link rel="prefetch" href="/assets/js/103.c030f237.js"><link rel="prefetch" href="/assets/js/104.0266b527.js"><link rel="prefetch" href="/assets/js/105.5f47d4ea.js"><link rel="prefetch" href="/assets/js/106.3ca36216.js"><link rel="prefetch" href="/assets/js/107.f8dd323b.js"><link rel="prefetch" href="/assets/js/108.4bff42f9.js"><link rel="prefetch" href="/assets/js/109.ac794970.js"><link rel="prefetch" href="/assets/js/11.974e2f7c.js"><link rel="prefetch" href="/assets/js/110.f5ccdf47.js"><link rel="prefetch" href="/assets/js/111.4e79eb7e.js"><link rel="prefetch" href="/assets/js/112.b9b81372.js"><link rel="prefetch" href="/assets/js/113.c3bdb42d.js"><link rel="prefetch" href="/assets/js/114.ccb09ce8.js"><link rel="prefetch" href="/assets/js/115.5d848af1.js"><link rel="prefetch" href="/assets/js/116.f84ae96c.js"><link rel="prefetch" href="/assets/js/117.b7b9b66a.js"><link rel="prefetch" href="/assets/js/118.e1279116.js"><link rel="prefetch" href="/assets/js/119.a8b8b535.js"><link rel="prefetch" href="/assets/js/12.1c4c29fe.js"><link rel="prefetch" href="/assets/js/120.ffb6578b.js"><link rel="prefetch" href="/assets/js/121.db13a08d.js"><link rel="prefetch" href="/assets/js/122.f0b079fb.js"><link rel="prefetch" href="/assets/js/123.30c61834.js"><link rel="prefetch" href="/assets/js/124.810d24f0.js"><link rel="prefetch" href="/assets/js/125.40758b79.js"><link rel="prefetch" href="/assets/js/126.43f647ce.js"><link rel="prefetch" href="/assets/js/127.0905114c.js"><link rel="prefetch" href="/assets/js/128.f3e00048.js"><link rel="prefetch" href="/assets/js/129.c8be7e51.js"><link rel="prefetch" href="/assets/js/13.70851fba.js"><link rel="prefetch" href="/assets/js/130.8189350a.js"><link rel="prefetch" href="/assets/js/131.d6d253c6.js"><link rel="prefetch" href="/assets/js/132.6a25ec95.js"><link rel="prefetch" href="/assets/js/133.ae89494f.js"><link rel="prefetch" href="/assets/js/134.235de09d.js"><link rel="prefetch" href="/assets/js/135.73d1f6fd.js"><link rel="prefetch" href="/assets/js/136.abcfccd4.js"><link rel="prefetch" href="/assets/js/137.4258f4ac.js"><link rel="prefetch" href="/assets/js/138.7ac91669.js"><link rel="prefetch" href="/assets/js/139.e11f30ed.js"><link rel="prefetch" href="/assets/js/14.fb05ac3d.js"><link rel="prefetch" href="/assets/js/140.3e43b4dd.js"><link rel="prefetch" href="/assets/js/141.8cf5b44b.js"><link rel="prefetch" href="/assets/js/142.76f060d2.js"><link rel="prefetch" href="/assets/js/143.791d225c.js"><link rel="prefetch" href="/assets/js/144.b39317b7.js"><link rel="prefetch" href="/assets/js/145.f4bacedd.js"><link rel="prefetch" href="/assets/js/146.9e918c9d.js"><link rel="prefetch" href="/assets/js/147.9c2bb32c.js"><link rel="prefetch" href="/assets/js/148.ace04141.js"><link rel="prefetch" href="/assets/js/149.b69ca7cc.js"><link rel="prefetch" href="/assets/js/15.16faeb5d.js"><link rel="prefetch" href="/assets/js/150.22f00f73.js"><link rel="prefetch" href="/assets/js/151.57c9b660.js"><link rel="prefetch" href="/assets/js/152.df9f4f91.js"><link rel="prefetch" href="/assets/js/153.f404aea3.js"><link rel="prefetch" href="/assets/js/154.6bfe0e79.js"><link rel="prefetch" href="/assets/js/155.171953f3.js"><link rel="prefetch" href="/assets/js/156.8c1db452.js"><link rel="prefetch" href="/assets/js/157.b2cd735e.js"><link rel="prefetch" href="/assets/js/158.68cf5b29.js"><link rel="prefetch" href="/assets/js/159.cd035e9d.js"><link rel="prefetch" href="/assets/js/16.bdf0ed86.js"><link rel="prefetch" href="/assets/js/17.6bb4379d.js"><link rel="prefetch" href="/assets/js/18.4f71d5c3.js"><link rel="prefetch" href="/assets/js/19.19a2d82f.js"><link rel="prefetch" href="/assets/js/2.651fc4b6.js"><link rel="prefetch" href="/assets/js/20.3f8bdb35.js"><link rel="prefetch" href="/assets/js/21.c02723fd.js"><link rel="prefetch" href="/assets/js/22.805f7c48.js"><link rel="prefetch" href="/assets/js/23.e43f5f10.js"><link rel="prefetch" href="/assets/js/24.fc0fe76f.js"><link rel="prefetch" href="/assets/js/25.c2d357a3.js"><link rel="prefetch" href="/assets/js/26.7e0c2bb3.js"><link rel="prefetch" href="/assets/js/27.3f964b0a.js"><link rel="prefetch" href="/assets/js/28.ec1fd6e5.js"><link rel="prefetch" href="/assets/js/29.eb003f8c.js"><link rel="prefetch" href="/assets/js/3.1fb71a8c.js"><link rel="prefetch" href="/assets/js/30.f6e68ef7.js"><link rel="prefetch" href="/assets/js/31.6aa2f704.js"><link rel="prefetch" href="/assets/js/32.fb3243f9.js"><link rel="prefetch" href="/assets/js/33.eeb62c67.js"><link rel="prefetch" href="/assets/js/34.f2ecf1db.js"><link rel="prefetch" href="/assets/js/35.833e40c9.js"><link rel="prefetch" href="/assets/js/36.5bd2b6f2.js"><link rel="prefetch" href="/assets/js/37.ca7a33ec.js"><link rel="prefetch" href="/assets/js/38.890bf6dc.js"><link rel="prefetch" href="/assets/js/39.676dbab6.js"><link rel="prefetch" href="/assets/js/4.cc19d063.js"><link rel="prefetch" href="/assets/js/40.9c40818c.js"><link rel="prefetch" href="/assets/js/41.42aafd9b.js"><link rel="prefetch" href="/assets/js/42.04718ebb.js"><link rel="prefetch" href="/assets/js/43.17db4c48.js"><link rel="prefetch" href="/assets/js/44.1c73b69d.js"><link rel="prefetch" href="/assets/js/45.26f14bf8.js"><link rel="prefetch" href="/assets/js/46.84fdff68.js"><link rel="prefetch" href="/assets/js/47.a14751d9.js"><link rel="prefetch" href="/assets/js/48.151f59b7.js"><link rel="prefetch" href="/assets/js/49.e19697d5.js"><link rel="prefetch" href="/assets/js/50.19d5637a.js"><link rel="prefetch" href="/assets/js/51.6bab69ba.js"><link rel="prefetch" href="/assets/js/52.1d221c1c.js"><link rel="prefetch" href="/assets/js/53.db9c4ffb.js"><link rel="prefetch" href="/assets/js/54.794a75ba.js"><link rel="prefetch" href="/assets/js/55.803b959e.js"><link rel="prefetch" href="/assets/js/56.061e8fbe.js"><link rel="prefetch" href="/assets/js/57.abdaa505.js"><link rel="prefetch" href="/assets/js/58.82e935a6.js"><link rel="prefetch" href="/assets/js/59.7b9e78ac.js"><link rel="prefetch" href="/assets/js/6.3c8b0194.js"><link rel="prefetch" href="/assets/js/60.24db68c4.js"><link rel="prefetch" href="/assets/js/61.fdcfffac.js"><link rel="prefetch" href="/assets/js/62.03961bc6.js"><link rel="prefetch" href="/assets/js/63.20b4c614.js"><link rel="prefetch" href="/assets/js/64.d6ff0ab3.js"><link rel="prefetch" href="/assets/js/65.0cf2cdc6.js"><link rel="prefetch" href="/assets/js/66.680d1313.js"><link rel="prefetch" href="/assets/js/67.a7e6acc4.js"><link rel="prefetch" href="/assets/js/68.e2bddba9.js"><link rel="prefetch" href="/assets/js/69.4ddb1474.js"><link rel="prefetch" href="/assets/js/7.c513628c.js"><link rel="prefetch" href="/assets/js/70.17499cd4.js"><link rel="prefetch" href="/assets/js/71.e9d67aa8.js"><link rel="prefetch" href="/assets/js/72.2f0fe704.js"><link rel="prefetch" href="/assets/js/73.cdaa583a.js"><link rel="prefetch" href="/assets/js/74.bf567fd2.js"><link rel="prefetch" href="/assets/js/75.7dcb2b8b.js"><link rel="prefetch" href="/assets/js/76.f7064f23.js"><link rel="prefetch" href="/assets/js/77.3ce6de43.js"><link rel="prefetch" href="/assets/js/78.cda50167.js"><link rel="prefetch" href="/assets/js/79.5d957ec5.js"><link rel="prefetch" href="/assets/js/8.8c98aa76.js"><link rel="prefetch" href="/assets/js/80.8888f829.js"><link rel="prefetch" href="/assets/js/81.80ea090e.js"><link rel="prefetch" href="/assets/js/82.989f565e.js"><link rel="prefetch" href="/assets/js/83.bd0ec6a8.js"><link rel="prefetch" href="/assets/js/84.753ddc08.js"><link rel="prefetch" href="/assets/js/85.8dbd9f60.js"><link rel="prefetch" href="/assets/js/86.81cb13fe.js"><link rel="prefetch" href="/assets/js/87.4db2e919.js"><link rel="prefetch" href="/assets/js/88.1257666a.js"><link rel="prefetch" href="/assets/js/89.d6234b3e.js"><link rel="prefetch" href="/assets/js/9.2ea96ce3.js"><link rel="prefetch" href="/assets/js/90.21c6d67a.js"><link rel="prefetch" href="/assets/js/91.df8ca6db.js"><link rel="prefetch" href="/assets/js/92.582dfcd0.js"><link rel="prefetch" href="/assets/js/93.aedae03b.js"><link rel="prefetch" href="/assets/js/94.246aff36.js"><link rel="prefetch" href="/assets/js/95.5e2f4a57.js"><link rel="prefetch" href="/assets/js/96.f0a1c05a.js"><link rel="prefetch" href="/assets/js/97.9f35e990.js"><link rel="prefetch" href="/assets/js/98.65044c2b.js"><link rel="prefetch" href="/assets/js/99.ad198612.js">
    <link rel="stylesheet" href="/assets/css/0.styles.cd5c72c6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Hey, I'm Front C</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/start/" class="nav-link">起始</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">基础</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>前端三大块</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/basic/html/" class="nav-link">HTML</a></li><li class="dropdown-subitem"><a href="/basic/css/" class="nav-link">CSS</a></li><li class="dropdown-subitem"><a href="/basic/js/" class="nav-link router-link-active">JS</a></li></ul></li><li class="dropdown-item"><h4>计算机基础</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/basic/cs/" class="nav-link">编译原理</a></li><li class="dropdown-subitem"><a href="/basic/cs/" class="nav-link">数据结构</a></li><li class="dropdown-subitem"><a href="/basic/cs/" class="nav-link">算法</a></li><li class="dropdown-subitem"><a href="/basic/cs/" class="nav-link">操作系统</a></li><li class="dropdown-subitem"><a href="/basic/cs/" class="nav-link">计算机网络</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">框架</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frame/vue/" class="nav-link">Vue</a></li><li class="dropdown-item"><!----> <a href="/frame/react/" class="nav-link">React</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">微信开发</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/weapp/platform/" class="nav-link">公众号开发</a></li><li class="dropdown-item"><!----> <a href="/weapp/miniprogram/" class="nav-link">小程序开发</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">工具库</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tools/" class="nav-link">Lodash</a></li><li class="dropdown-item"><!----> <a href="/tools/" class="nav-link">momentjs</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">更多</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>开发</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/standard/mobile/" class="nav-link">移动端开发</a></li><li class="dropdown-subitem"><a href="/standard/pc/" class="nav-link">PC端开发</a></li><li class="dropdown-subitem"><a href="/standard/map/" class="nav-link">地图开发</a></li></ul></li><li class="dropdown-item"><h4>阅读</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://github.com/Advanced-Frontend/Daily-Interview-Question" target="_blank" rel="noopener noreferrer" class="nav-link external">
  每日一题
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li><li class="dropdown-item"><h4>记录life</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/life/thinks/" class="nav-link">阅读Melody</a></li><li class="dropdown-subitem"><a href="/life/sports/" class="nav-link">运动Love</a></li><li class="dropdown-subitem"><a href="/life/cook/" class="nav-link">食在Cook</a></li><li class="dropdown-subitem"><a href="/life/city/" class="nav-link">城市Walk</a></li></ul></li></ul></div></div> <a href="https://github.com/SamyeChan/growing-up-docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/start/" class="nav-link">起始</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">基础</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>前端三大块</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/basic/html/" class="nav-link">HTML</a></li><li class="dropdown-subitem"><a href="/basic/css/" class="nav-link">CSS</a></li><li class="dropdown-subitem"><a href="/basic/js/" class="nav-link router-link-active">JS</a></li></ul></li><li class="dropdown-item"><h4>计算机基础</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/basic/cs/" class="nav-link">编译原理</a></li><li class="dropdown-subitem"><a href="/basic/cs/" class="nav-link">数据结构</a></li><li class="dropdown-subitem"><a href="/basic/cs/" class="nav-link">算法</a></li><li class="dropdown-subitem"><a href="/basic/cs/" class="nav-link">操作系统</a></li><li class="dropdown-subitem"><a href="/basic/cs/" class="nav-link">计算机网络</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">框架</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frame/vue/" class="nav-link">Vue</a></li><li class="dropdown-item"><!----> <a href="/frame/react/" class="nav-link">React</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">微信开发</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/weapp/platform/" class="nav-link">公众号开发</a></li><li class="dropdown-item"><!----> <a href="/weapp/miniprogram/" class="nav-link">小程序开发</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">工具库</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tools/" class="nav-link">Lodash</a></li><li class="dropdown-item"><!----> <a href="/tools/" class="nav-link">momentjs</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">更多</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>开发</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/standard/mobile/" class="nav-link">移动端开发</a></li><li class="dropdown-subitem"><a href="/standard/pc/" class="nav-link">PC端开发</a></li><li class="dropdown-subitem"><a href="/standard/map/" class="nav-link">地图开发</a></li></ul></li><li class="dropdown-item"><h4>阅读</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://github.com/Advanced-Frontend/Daily-Interview-Question" target="_blank" rel="noopener noreferrer" class="nav-link external">
  每日一题
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li><li class="dropdown-item"><h4>记录life</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/life/thinks/" class="nav-link">阅读Melody</a></li><li class="dropdown-subitem"><a href="/life/sports/" class="nav-link">运动Love</a></li><li class="dropdown-subitem"><a href="/life/cook/" class="nav-link">食在Cook</a></li><li class="dropdown-subitem"><a href="/life/city/" class="nav-link">城市Walk</a></li></ul></li></ul></div></div> <a href="https://github.com/SamyeChan/growing-up-docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>JS</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/basic/js/" class="sidebar-link">描述</a></li><li><a href="/basic/js/异步编程/" class="sidebar-link">ES6之异步流程的前世今生</a></li><li><a href="/basic/js/防抖与节流/" class="sidebar-link">防抖与节流</a></li><li><a href="/basic/js/校验/" class="sidebar-link">规则</a></li><li><a href="/basic/js/动画/" class="sidebar-link">动画</a></li><li><a href="/basic/js/异步/" class="sidebar-link">异步处理</a></li><li><a href="/basic/js/闭包/" class="sidebar-link">闭包</a></li><li><a href="/basic/js/正则表达式/" class="sidebar-link">正则表达式</a></li><li><a href="/basic/js/BOM/" class="sidebar-link">BOM</a></li><li><a href="/basic/js/DOM/" class="sidebar-link">DOM</a></li><li><a href="/basic/js/Class/" class="sidebar-link">Class |《JS高级工程师》</a></li><li><a href="/basic/js/事件/" class="sidebar-link">Event</a></li><li><a href="/basic/js/Node/" class="sidebar-link">Node.js</a></li><li><a href="/basic/js/面向对象/" class="active sidebar-link">面向对象</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/basic/js/面向对象/#一个栗子" class="sidebar-link">一个栗子</a></li><li class="sidebar-sub-header"><a href="/basic/js/面向对象/#工厂模式" class="sidebar-link">工厂模式</a></li><li class="sidebar-sub-header"><a href="/basic/js/面向对象/#new-运算符" class="sidebar-link">new 运算符</a></li><li class="sidebar-sub-header"><a href="/basic/js/面向对象/#构造函数" class="sidebar-link">构造函数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/basic/js/面向对象/#与工厂模式类似" class="sidebar-link">与工厂模式类似</a></li><li class="sidebar-sub-header"><a href="/basic/js/面向对象/#构造函数版小栗子" class="sidebar-link">构造函数版小栗子</a></li></ul></li><li class="sidebar-sub-header"><a href="/basic/js/面向对象/#原型-prototype" class="sidebar-link">原型 prototype</a></li><li class="sidebar-sub-header"><a href="/basic/js/面向对象/#面向对象和面向过程编程" class="sidebar-link">面向对象和面向过程编程</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/basic/js/面向对象/#构造函数继承" class="sidebar-link">构造函数继承</a></li><li class="sidebar-sub-header"><a href="/basic/js/面向对象/#组合继承" class="sidebar-link">组合继承</a></li></ul></li><li class="sidebar-sub-header"><a href="/basic/js/面向对象/#类和对象" class="sidebar-link">类和对象</a></li><li class="sidebar-sub-header"><a href="/basic/js/面向对象/#原型的深拷贝继承" class="sidebar-link">原型的深拷贝继承</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/basic/js/面向对象/#传值和传址问题" class="sidebar-link">传值和传址问题</a></li><li class="sidebar-sub-header"><a href="/basic/js/面向对象/#json-序列化的不足" class="sidebar-link">JSON 序列化的不足</a></li></ul></li><li class="sidebar-sub-header"><a href="/basic/js/面向对象/#原型链" class="sidebar-link">原型链</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/basic/js/面向对象/#instanceof-函数" class="sidebar-link">instanceof 函数</a></li></ul></li><li class="sidebar-sub-header"><a href="/basic/js/面向对象/#包装对象" class="sidebar-link">包装对象</a></li><li class="sidebar-sub-header"><a href="/basic/js/面向对象/#常用方法" class="sidebar-link">常用方法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/basic/js/面向对象/#hasownproperty" class="sidebar-link">hasOwnProperty()</a></li><li class="sidebar-sub-header"><a href="/basic/js/面向对象/#constructor" class="sidebar-link">constructor</a></li><li class="sidebar-sub-header"><a href="/basic/js/面向对象/#instanceof" class="sidebar-link">instanceof</a></li><li class="sidebar-sub-header"><a href="/basic/js/面向对象/#tostring" class="sidebar-link">toString()</a></li></ul></li></ul></li><li><a href="/basic/js/This/" class="sidebar-link">判断this指向</a></li><li><a href="/basic/js/NaN/" class="sidebar-link">NaN = Not A Number</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>ES</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/basic/js/ES/" class="sidebar-link">描述</a></li><li><a href="/basic/js/ES/ES6、7、8/" class="sidebar-link">ES6、7、8</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>TS</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/basic/js/ts/" class="sidebar-link">Learn | TypeScript</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="面向对象"><a href="#面向对象" aria-hidden="true" class="header-anchor">#</a> 面向对象</h1> <h2 id="一个栗子"><a href="#一个栗子" aria-hidden="true" class="header-anchor">#</a> 一个栗子</h2> <h4 id="需求：实现多个选项卡"><a href="#需求：实现多个选项卡" aria-hidden="true" class="header-anchor">#</a> 需求：实现多个选项卡</h4> <ul><li>先实现一个选项卡；</li> <li>将单个选项卡实现方式封装；</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * 封装 - 选项卡
 */</span>
<span class="token keyword">function</span> <span class="token function">Tab</span> <span class="token punctuation">(</span><span class="token parameter">btns<span class="token punctuation">,</span> ps</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  btns<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    item<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      ps<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">it<span class="token punctuation">,</span> idx</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>idx <span class="token operator">===</span> index<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          btns<span class="token punctuation">[</span>idx<span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>background <span class="token operator">=</span> <span class="token string">'orange'</span><span class="token punctuation">;</span>
          ps<span class="token punctuation">[</span>idx<span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">'block'</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          btns<span class="token punctuation">[</span>idx<span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>background <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
          ps<span class="token punctuation">[</span>idx<span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">'none'</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 获取元素</span>
<span class="token keyword">let</span> btns <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'.div1 button'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> ps <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'.div1 p'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> btns2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'.div2 button'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> ps2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'.div2 p'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 使用方法</span>
<span class="token function">Tab</span><span class="token punctuation">(</span>btns<span class="token punctuation">,</span> ps<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">Tab</span><span class="token punctuation">(</span>btns2<span class="token punctuation">,</span> ps2<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>效果：</p> <p><img src="/assets/img/0101_democard.9641b782.gif" alt="实现多个选项卡"></p> <h4 id="需求变更：第一个选项卡实现点击切换下一页功能"><a href="#需求变更：第一个选项卡实现点击切换下一页功能" aria-hidden="true" class="header-anchor">#</a> 需求变更：第一个选项卡实现点击切换下一页功能</h4> <ul><li>点击按钮，第一个选项卡有下一页功能；</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * 封装 - 选项卡
 * 
 * btns - 选项卡按钮
 * ps - 选项卡内容
 * isNext - 是否含有下一页功能（true/false，无参数时默认 false）
 * （要实现第一个选项卡下一页切换，必须设置一个控制变量，否则会被后面的选项卡覆盖）
 */</span>
<span class="token keyword">function</span> <span class="token function">Tab</span> <span class="token punctuation">(</span><span class="token parameter">btns<span class="token punctuation">,</span> ps<span class="token punctuation">,</span> isNext <span class="token operator">=</span> <span class="token boolean">false</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  btns<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>

    <span class="token operator">...</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>isNext<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 有下一页功能</span>
      <span class="token keyword">let</span> num <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
      document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.nextBtn'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        num<span class="token operator">++</span><span class="token punctuation">;</span>
        num <span class="token operator">=</span> num <span class="token operator">&gt;</span> <span class="token punctuation">(</span>btns<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token punctuation">:</span> num<span class="token punctuation">;</span>
        ps<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">it<span class="token punctuation">,</span> idx</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>idx <span class="token operator">==</span> num<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            btns<span class="token punctuation">[</span>idx<span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>background <span class="token operator">=</span> <span class="token string">'orange'</span><span class="token punctuation">;</span>
            ps<span class="token punctuation">[</span>idx<span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">'block'</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            btns<span class="token punctuation">[</span>idx<span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>background <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
            ps<span class="token punctuation">[</span>idx<span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">'none'</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>效果：</p> <p><img src="/assets/img/0102_democard.37d141c4.gif" alt="第一个选项卡实现点击切换下一页功能"></p> <ul><li>如果直接在封装函数内进行下一页功能的编写，其实最终功能只会被赋予最后一个选项卡中；</li></ul> <h4 id="需求变更：第二个选项卡实现自动轮播"><a href="#需求变更：第二个选项卡实现自动轮播" aria-hidden="true" class="header-anchor">#</a> 需求变更：第二个选项卡实现自动轮播</h4> <ul><li>和前一个需求变更相同；</li> <li>再添加一个参数来控制；</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>isAutoPlay<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 控制自动轮播</span>
  <span class="token keyword">let</span> num <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.autoPlayBtn'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      num<span class="token operator">++</span><span class="token punctuation">;</span>
      num <span class="token operator">=</span> num <span class="token operator">&gt;</span> <span class="token punctuation">(</span>btns<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token punctuation">:</span> num<span class="token punctuation">;</span>
      <span class="token function">psFor</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/**
 * 现在这个方法肯定有bug，
 * 比如不停地点，轮播速度会越来越快，
 * BUT，这就是个demo啊...
 * 莫啷个较真，我也就提醒一下，不要上来就复制代码
 */</span>
</code></pre></div><p>效果：</p> <p><img src="/assets/img/0103_democard.1c81221a.gif" alt="第二个选项卡实现自动轮播"></p> <ul><li>你看，这两个需求变更就让传入参数多了俩，但其实一般来说嘞，这种情况下的参数是会以 <strong>对象</strong> 的类型传入的咯～</li></ul> <h4 id="改造选项卡"><a href="#改造选项卡" aria-hidden="true" class="header-anchor">#</a> 改造选项卡</h4> <ul><li>上面虽然将功能实现了，但是实现方式不佳；</li> <li>一般来说封装的方法中就不应该有一些非共性的东西存在；</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Tab</span> <span class="token punctuation">(</span><span class="token parameter">btns<span class="token punctuation">,</span> ps</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>

  <span class="token comment">/**
   * 某个函数必须存在于封装函数内部，
   * 但其又具有一定的特殊性，
   * 那就可以向外返回这个函数啊，
   * 让它在封装函数外使用
   */</span>
  <span class="token keyword">return</span> psFor<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/**
 * 在封装函数外的使用
 */</span>
<span class="token keyword">let</span> btns <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'.div1 button'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> ps <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'.div1 p'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 拿到的</span>
<span class="token keyword">let</span> tab <span class="token operator">=</span> <span class="token function">Tab</span><span class="token punctuation">(</span>btns<span class="token punctuation">,</span> ps<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 有下一页功能（单独处理了）</span>
<span class="token keyword">let</span> num <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.nextBtn'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  num<span class="token operator">++</span><span class="token punctuation">;</span>
  num <span class="token operator">=</span> num <span class="token operator">&gt;</span> <span class="token punctuation">(</span>btns<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token punctuation">:</span> num<span class="token punctuation">;</span>
  <span class="token function">tab</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>共性特征，放函数/类里；</li> <li>少数（传参数配置）/个别特殊，返还单独处理；</li></ul> <h4 id="需求变更：多个选项卡分别更改数量"><a href="#需求变更：多个选项卡分别更改数量" aria-hidden="true" class="header-anchor">#</a> 需求变更：多个选项卡分别更改数量</h4> <ul><li>函数内 <code>return</code> 一个对象，将外用函数、相关参数放置于内：</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Tab</span> <span class="token punctuation">(</span><span class="token parameter">btns<span class="token punctuation">,</span> ps</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span> psFor<span class="token punctuation">,</span> TabNum<span class="token punctuation">:</span> btns<span class="token punctuation">.</span>length <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 当 value &amp; key 同名时，可合并书写噢</span>
</code></pre></div><ul><li>上面这个栗子，其实用的是『 工厂模式 』</li></ul> <h2 id="工厂模式"><a href="#工厂模式" aria-hidden="true" class="header-anchor">#</a> 工厂模式</h2> <p>基于上面的小栗子，写一个简单的工厂模式～</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * 工厂模式
 */</span>
<span class="token keyword">function</span> <span class="token function">Tab</span><span class="token punctuation">(</span><span class="token parameter">btns<span class="token punctuation">,</span> ps</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 00 加原料</span>
  <span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment">// 01 加工原料</span>
  obj<span class="token punctuation">.</span>tabNum <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
  obj<span class="token punctuation">.</span><span class="token function-variable function">psFor</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'psFor'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment">// 02 出厂</span>
  <span class="token keyword">return</span> obj<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> tab1 <span class="token operator">=</span> <span class="token function">Tab</span><span class="token punctuation">(</span><span class="token string">'参数1'</span><span class="token punctuation">,</span> <span class="token string">'参数2'</span><span class="token punctuation">)</span>
<span class="token comment">// 自己的逻辑</span>
tab1<span class="token punctuation">.</span><span class="token function">psFor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> tab2 <span class="token operator">=</span> <span class="token function">Tab</span><span class="token punctuation">(</span><span class="token string">'参数1'</span><span class="token punctuation">,</span> <span class="token string">'参数2'</span><span class="token punctuation">)</span>
<span class="token comment">// 自己的逻辑</span>
tab2<span class="token punctuation">.</span><span class="token function">psFor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>优点：解决了代码复用的问题；</li> <li>缺点：
<ol><li>没有解决对象识别的问题，即创建的所有实例都是 Object 类型；</li> <li>没有原型，占用内存；</li></ol></li></ul> <h2 id="new-运算符"><a href="#new-运算符" aria-hidden="true" class="header-anchor">#</a> new 运算符</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/*
 * new 运算符
 *
 * 功能： 1- (直接)执行函数
 *       2- 自动创建一个空对象；
 *       3- 把空对象指向另外一个对象；
 *       4- 将 this 绑定到这个空对象；
 *       5- 隐式返还 this；
 */</span>
<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="直接-执行函数"><a href="#直接-执行函数" aria-hidden="true" class="header-anchor">#</a> (直接)执行函数</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">test</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'test...'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">new</span> <span class="token class-name">test</span><span class="token punctuation">;</span>
<span class="token keyword">new</span> <span class="token class-name">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>上述3种方式均可进行 test 函数中的正常打印；</li> <li>其中，后2中 <code>new</code> 形式的对比，说明了 <code>new运算符</code> 的函数自执行性；</li></ul> <h4 id="自动创建一个空对象-把空对象指向另外一个对象"><a href="#自动创建一个空对象-把空对象指向另外一个对象" aria-hidden="true" class="header-anchor">#</a> 自动创建一个空对象 &amp; 把空对象指向另外一个对象</h4> <h4 id="将-this-绑定到这个空对象-隐式返还-this"><a href="#将-this-绑定到这个空对象-隐式返还-this" aria-hidden="true" class="header-anchor">#</a> 将 this 绑定到这个空对象 &amp; 隐式返还 this</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * 工厂模式 - 使用 new 运算符的话
 */</span>
<span class="token keyword">function</span> <span class="token function">Tab</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 00 加原料</span>
  <span class="token comment">// let obj = {}; ---&gt; 将 this 绑定到这个空对象</span>
  <span class="token comment">//（所以new的话，直接可以使用this 进行后续操作，而不需要）</span>
  <span class="token comment">// 01 加工原料</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>tabNum <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">psFor</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'psFor'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment">// 02 出厂</span>
  <span class="token comment">// return obj; ---&gt; new 可以隐式返还 this，故此处可以省略 return</span>

  <span class="token comment">/**
   * 有 return 执行 return，没 return 就会把 this 返回来
   * 
   *（但一般不会自己返换，直接返回 this 就好啦）
   */</span>
<span class="token punctuation">}</span>
<span class="token comment">// new 实例化</span>
<span class="token comment">// new 把空对象指向另外一个对象 ---&gt; 所以方法中返回的 this 就指向了新的那个 tab</span>
<span class="token keyword">let</span> tab <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Tab</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
tab<span class="token punctuation">.</span><span class="token function">psFor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>然后，我发现，用 new 改改改以后，这个栗子...变成了一个构造函数？？？</p> <h2 id="构造函数"><a href="#构造函数" aria-hidden="true" class="header-anchor">#</a> 构造函数</h2> <ul><li>相比之下，工厂模式用得少，构造函数用得多；</li> <li>构造函数约定俗成首字母大写；</li> <li>类似一个 <code>类</code> 的概念（ES6之前，这个构造函数都是模拟的一个类的概念，但它终究不是啊）；</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 构造函数</span>
<span class="token keyword">function</span> <span class="token function">Tab</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>tabNum <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">psFor</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'psFor'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/**
 * 仿写 new 运算符（new 的运行原理）
 */</span>
<span class="token keyword">function</span> <span class="token function">myNew</span> <span class="token punctuation">(</span><span class="token parameter">constructor<span class="token punctuation">,</span> <span class="token operator">...</span>arg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token function">constructor</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token operator">...</span>arg<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 改变传入函数指向新创建的对象</span>
  obj<span class="token punctuation">.</span>_proto_ <span class="token operator">=</span> constructor<span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>
  <span class="token keyword">return</span> obj<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> tab <span class="token operator">=</span> <span class="token function">myNew</span><span class="token punctuation">(</span>Tab<span class="token punctuation">)</span><span class="token punctuation">;</span>
tab<span class="token punctuation">.</span><span class="token function">psFor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="与工厂模式类似"><a href="#与工厂模式类似" aria-hidden="true" class="header-anchor">#</a> 与工厂模式类似</h3> <h4 id="构造函数写法更简单"><a href="#构造函数写法更简单" aria-hidden="true" class="header-anchor">#</a> 构造函数写法更简单</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * 工厂模式
 */</span>
<span class="token keyword">function</span> <span class="token function">Tab</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  obj<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'samyechan'</span><span class="token punctuation">;</span>
  obj<span class="token punctuation">.</span><span class="token function-variable function">hobby</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">' loves running'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> obj<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> tab <span class="token operator">=</span> <span class="token function">Tab</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
tab<span class="token punctuation">.</span><span class="token function">hobby</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * 构造函数
 */</span>
<span class="token keyword">function</span> <span class="token function">Tab2</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'alexwww'</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">hobby</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">' loves swimming'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> tab2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Tab2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
tab2<span class="token punctuation">.</span><span class="token function">hobby</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="构造函数性能更佳"><a href="#构造函数性能更佳" aria-hidden="true" class="header-anchor">#</a> 构造函数性能更佳</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 工厂模式</span>
<span class="token keyword">let</span> tab001 <span class="token operator">=</span> <span class="token function">Tab</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> tab002 <span class="token operator">=</span> <span class="token function">Tab</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tab001<span class="token punctuation">.</span>hobby <span class="token operator">===</span> tab002<span class="token punctuation">.</span>hobby<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tab001<span class="token punctuation">.</span>hobby <span class="token operator">==</span> tab002<span class="token punctuation">.</span>hobby<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token comment">/**
 * tab001 和 tab002 在内存中是两个不同的空间
 * 虽然他们里面的东西一致，但实际他们的 this 是不同的
 * 
 * --- 一样的东西存在这么多，消耗内存啊 ---
 */</span>

<span class="token comment">// 如果向上面那样写构造函数....</span>
<span class="token keyword">let</span> tab1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Tab2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> tab2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Tab2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tab1<span class="token punctuation">.</span>hobby <span class="token operator">===</span> tab2<span class="token punctuation">.</span>hobby<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tab1<span class="token punctuation">.</span>hobby <span class="token operator">==</span> tab2<span class="token punctuation">.</span>hobby<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token comment">/**
 * tab1 和 tab2 还是两个不同的东西啊！！！！！！
 * 但构造函数中有方法去改变它～～
 * 
 * 提供了一个公共的空间（原型[原型也是个对象噢]） ---&gt; 节约内存啊
 * 
 * 一个实例化对象 = 构造函数 + 原型
 */</span>

<span class="token comment">// 这个时候，再酱紫写...</span>
<span class="token keyword">function</span> <span class="token function">Tab2</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'alexwww'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">Tab2</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">hobby</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'loves swimming'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> tab1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Tab2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> tab2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Tab2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tab1<span class="token punctuation">.</span>hobby <span class="token operator">===</span> tab2<span class="token punctuation">.</span>hobby<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tab1<span class="token punctuation">.</span>hobby <span class="token operator">==</span> tab2<span class="token punctuation">.</span>hobby<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token comment">/**
 * 都 true 了，有没有！！！
 * 
 * ps：对象比较 ---&gt; 1.值一样； 2.地址一样；
 *     简单数据类型都是新开辟地址，不涉及传值传参问题；
 */</span>
</code></pre></div><ul><li>每一个函数都会有一个 prototype；</li> <li>一般 prototype 都写在函数外面，这样会更好区分；</li></ul> <h3 id="构造函数版小栗子"><a href="#构造函数版小栗子" aria-hidden="true" class="header-anchor">#</a> 构造函数版小栗子</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * 构造函数 - 在构造函数里写各种属性，一般不写方法
 * 
 * new的时候，只会执行构造函数中的内容，而不会执行原型链上的东西
 */</span>
<span class="token keyword">function</span> <span class="token function">Tab</span> <span class="token punctuation">(</span><span class="token parameter">btns<span class="token punctuation">,</span> ps</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>btns <span class="token operator">=</span> btns<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>ps <span class="token operator">=</span> ps<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>TabNum <span class="token operator">=</span> btns<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">btnsFor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 在构造函数中就执行 - new的时候就给按钮赋上事件</span>
<span class="token punctuation">}</span>
<span class="token comment">/** 
 * prototype 是一个公共的空间 - 在原型上写各种方法（解约内存）
 * 
 * btnsFor - 点击按钮事件
 */</span>
<span class="token class-name">Tab</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">btnsFor</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>btns<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// let _this = this</span>
    <span class="token comment">// item.onclick = function () {</span>
    <span class="token comment">//   _this.psFor(index);</span>
    <span class="token comment">//   // 这里的 this 是指向函数里面那个 this，谁创建指向谁，并不是构造函数中那个全局 this</span>
    <span class="token comment">// }</span>
    item<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">psFor</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// 箭头函数中的 this 就会跟随它前面的 this指向，此处就是指向全局 this</span>
      <span class="token comment">// [ 箭头函数 this 指向外部 this ]</span>
      <span class="token comment">//</span>
      <span class="token comment">// 箭头函数好用，但不要滥用</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">/**
 * psFor - 改变按钮变化选中时的样式
 */</span>
<span class="token class-name">Tab</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">psFor</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>ps<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">==</span> num<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>btns<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>background <span class="token operator">=</span> <span class="token string">'orange'</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>ps<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">'block'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>btns<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>background <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>ps<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">'none'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">/**
 * getIndex - 获取当前按钮点击项
 */</span>
  <span class="token class-name">Tab</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getIndex</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>TabNum<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>btns<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>background <span class="token operator">==</span> <span class="token string">'orange'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> i<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> btns <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'.div1 button'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> ps <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'.div1 p'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> tab1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Tab</span><span class="token punctuation">(</span>btns<span class="token punctuation">,</span> ps<span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.nextBtn'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> num <span class="token operator">=</span> tab1<span class="token punctuation">.</span><span class="token function">getIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  num<span class="token operator">++</span><span class="token punctuation">;</span>
  num <span class="token operator">=</span> num <span class="token operator">&gt;</span> tab1<span class="token punctuation">.</span>TabNum <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token punctuation">:</span> num<span class="token punctuation">;</span>
  tab1<span class="token punctuation">.</span><span class="token function">psFor</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> btns2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'.div2 button'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> ps2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'.div2 p'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> tab2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Tab</span><span class="token punctuation">(</span>btns2<span class="token punctuation">,</span> ps2<span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.autoPlayBtn'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> num2 <span class="token operator">=</span> tab2<span class="token punctuation">.</span><span class="token function">getIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    num2<span class="token operator">++</span><span class="token punctuation">;</span>
    num2 <span class="token operator">=</span> num2 <span class="token operator">&gt;</span> tab2<span class="token punctuation">.</span>TabNum <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token punctuation">:</span> num2<span class="token punctuation">;</span>
    tab2<span class="token punctuation">.</span><span class="token function">psFor</span><span class="token punctuation">(</span>num2<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="原型-prototype"><a href="#原型-prototype" aria-hidden="true" class="header-anchor">#</a> 原型 prototype</h2> <ul><li><code>obj._proto_ === Obj.prototype</code>；</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 继续上例</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tab1<span class="token punctuation">.</span>_proto_ <span class="token operator">===</span> <span class="token class-name">Tab1</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><ul><li>通过 new 实例化出来的对象，其属性和行为来自两个部分：
<ol><li>来自构造函数；</li> <li>来自原型；</li></ol></li> <li>当声明一个函数时，同时也声明了一个原型；</li> <li>原型本身就是一个对象；</li> <li>对象属性方法查找规则：</li></ul> <h4 id="两种写法"><a href="#两种写法" aria-hidden="true" class="header-anchor">#</a> 两种写法</h4> <ul><li>基于上述栗子的比较（如果你不记得栗子了，那就跳过，直接看下一个代码）：</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 01 最佳 - 不会弄丢 constructor</span>
<span class="token class-name">Tab2</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">hobby</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'loves swimming'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 02 原型又一个预定义属性：constructor，指向构造函数</span>
cosnole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Tab2</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Tab2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token comment">// 如果像下面直接这样写，会把预定义的 constructor 弄丢(覆盖)噢</span>
<span class="token class-name">Tab2</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">hobby</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'loves swimming'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 所以如果要用 02 的方式写，得再加上 constructor 啊</span>
<span class="token class-name">Tab2</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span>
  constructor<span class="token punctuation">:</span> Tab2<span class="token punctuation">,</span>
  <span class="token function">hobby</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'loves swimming'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>简单总结：</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> prototype <span class="token operator">=</span> <span class="token punctuation">{</span>
  constructor<span class="token punctuation">:</span> <span class="token string">'构造函数'</span> <span class="token comment">// 这看作 ---&gt; 预定义（系统自己给我们写好的）</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 下面就像是在追加属性或方法咯</span>
prototype<span class="token punctuation">.</span><span class="token function-variable function">hobby</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'喜欢篮球'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 但如果你是酱紫写的话...</span>
prototype <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">hobby</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'喜欢唱歌'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/**
 * 是不是就直接把系统预定义的部分一并覆盖了啊～～～当然是
 * 所以当以上面这种覆盖的方法写的时候，要把预定义的部分也一并写一写噢
 */</span>
prototype <span class="token operator">=</span> <span class="token punctuation">{</span>
  constructor<span class="token punctuation">:</span> <span class="token string">'构造函数'</span><span class="token punctuation">,</span>
  <span class="token function">hobby</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'喜欢唱歌'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>二者，一个是 <strong>追加</strong>，一个是 <strong>覆盖</strong>；</li> <li>实例化的对象包含了<strong>构造函数</strong> &amp; <strong>原型</strong>；</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// new一个对象</span>
<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
obj<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'c'</span><span class="token punctuation">;</span>
obj<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">22</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">' - - - - - new 出来的 - - - - -'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 直接加在了原型上</span>
<span class="token keyword">let</span> obj2 <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">'cc'</span><span class="token punctuation">,</span>
  age<span class="token punctuation">:</span> <span class="token number">18</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">' - - - - - create 出来的 - - - - -'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj2<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>输出：</p> <p><img src="/assets/img/0104_initObj.ad298165.png" alt="创建对象的两种方式差异"></p> <ul><li>前者直接赋值于实例化的对象，后者是将属性/方法添加到了原型之中；</li> <li>相同的东西放在原型上对内存友好，能提高性能；</li> <li>就虽说放构造函数中也能完成功能，但是没实例化一个对象，就会为这些“相同”的属性/方法开辟新的地方 ---&gt; 你说浪不浪费空间，占不占内存啊？</li></ul> <h2 id="面向对象和面向过程编程"><a href="#面向对象和面向过程编程" aria-hidden="true" class="header-anchor">#</a> 面向对象和面向过程编程</h2> <h4 id="栗子-拖拽"><a href="#栗子-拖拽" aria-hidden="true" class="header-anchor">#</a> 栗子 - 拖拽</h4> <ul><li>面向过程 - 注重步骤，一步步地走</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * 面向过程 - 注重步骤，一步步走
 */</span>
<span class="token keyword">let</span> div1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.div1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> div2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.div2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
div1<span class="token punctuation">.</span><span class="token function-variable function">onmousedown</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> ev <span class="token operator">=</span> e <span class="token operator">||</span> window<span class="token punctuation">.</span>event<span class="token punctuation">;</span> <span class="token comment">// 兼容</span>
  <span class="token keyword">let</span> x <span class="token operator">=</span> ev<span class="token punctuation">.</span>clientX <span class="token operator">-</span> div1<span class="token punctuation">.</span>offsetLeft<span class="token punctuation">;</span>
  <span class="token keyword">let</span> y <span class="token operator">=</span> ev<span class="token punctuation">.</span>clientY <span class="token operator">-</span> div1<span class="token punctuation">.</span>offsetTop<span class="token punctuation">;</span>
  div1<span class="token punctuation">.</span><span class="token function-variable function">onmousemove</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> ev <span class="token operator">=</span> e <span class="token operator">||</span> window<span class="token punctuation">.</span>event<span class="token punctuation">;</span> <span class="token comment">// 兼容</span>
    <span class="token keyword">let</span> xx <span class="token operator">=</span> ev<span class="token punctuation">.</span>clientX<span class="token punctuation">;</span>
    <span class="token keyword">let</span> yy <span class="token operator">=</span> ev<span class="token punctuation">.</span>clientY<span class="token punctuation">;</span>
    div1<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> xx <span class="token operator">-</span> x <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
    div1<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> yy <span class="token operator">-</span> y <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  document<span class="token punctuation">.</span><span class="token function-variable function">onmouseup</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    div1<span class="token punctuation">.</span>onmousemove <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>面向对象 - 将公共的东西抽象出来</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * 拖拽类
 */</span>
<span class="token keyword">function</span> <span class="token function">Drag</span> <span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>el <span class="token operator">=</span> el<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">downFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/**
 * 要避免过多的迭代 - 方法无论多小都要分开写 - 利于维护
 */</span>
<span class="token class-name">Drag</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">downFn</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>el<span class="token punctuation">.</span><span class="token function-variable function">onmousedown</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> ev <span class="token operator">=</span> e <span class="token operator">||</span> window<span class="token punctuation">.</span>event<span class="token punctuation">;</span> <span class="token comment">// 兼容</span>
    <span class="token keyword">let</span> x <span class="token operator">=</span> ev<span class="token punctuation">.</span>clientX <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>el<span class="token punctuation">.</span>offsetLeft<span class="token punctuation">;</span>
    <span class="token keyword">let</span> y <span class="token operator">=</span> ev<span class="token punctuation">.</span>clientY <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>el<span class="token punctuation">.</span>offsetTop<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">moveFn</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">upFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token class-name">Drag</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">moveFn</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>el<span class="token punctuation">.</span><span class="token function-variable function">onmousemove</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> ev <span class="token operator">=</span> e <span class="token operator">||</span> window<span class="token punctuation">.</span>event<span class="token punctuation">;</span> <span class="token comment">// 兼容</span>
    <span class="token keyword">let</span> xx <span class="token operator">=</span> ev<span class="token punctuation">.</span>clientX<span class="token punctuation">;</span>
    <span class="token keyword">let</span> yy <span class="token operator">=</span> ev<span class="token punctuation">.</span>clientY<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setStyle</span><span class="token punctuation">(</span>xx <span class="token operator">-</span> x<span class="token punctuation">,</span> yy <span class="token operator">-</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token class-name">Drag</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">setStyle</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">leftNum<span class="token punctuation">,</span> topNum</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> leftNum <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> topNum <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">Drag</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">upFn</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  document<span class="token punctuation">.</span><span class="token function-variable function">onmouseup</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>el<span class="token punctuation">.</span>onmousemove <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> drag <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Drag</span><span class="token punctuation">(</span>div1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> drag2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Drag</span><span class="token punctuation">(</span>div2<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="构造函数继承"><a href="#构造函数继承" aria-hidden="true" class="header-anchor">#</a> 构造函数继承</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Dad</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'Bingo'</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>money <span class="token operator">=</span> <span class="token string">'$12345678'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">Dad</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">hobby</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'喜欢下棋'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">Son</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">Dad</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> dad <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dad</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>dad<span class="token punctuation">)</span><span class="token punctuation">;</span>
dad<span class="token punctuation">.</span><span class="token function">hobby</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> son <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Son</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>son<span class="token punctuation">)</span><span class="token punctuation">;</span>
son<span class="token punctuation">.</span><span class="token function">hobby</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>输出：</p> <p><img src="/assets/img/0901_extends.55131c1b.png" alt></p> <ul><li>继承，只会继承到构造函数，原型方法，即 demo 中的 <code>hobby</code> 是拿不到的；</li> <li>怎么拿到爸爸的原型方法？ --&gt; easilest - 直接赋值；</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token class-name">Son</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token class-name">Dad</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>
<span class="token comment">/**
 * 但这么简单粗暴的法子...当然是不好的哇哇哇～～～
 * 比如说，爸爸和儿砸的咋会一样嘞 -_-
 * 
 * 什么？让儿砸改？酱紫嘛？
 */</span>
<span class="token class-name">Son</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">hobby</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'我明明喜欢打游戏'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> 
<span class="token comment">/** 
 * 接着，相信儿砸就会被打了...
 * 因为他竟然篡改了爸爸的爱好，爸爸当然很生气啊
 * （修改的是同一个地址上的东东啊 - 【 名字虽不一，但地址同一个 】）
 * 
 * 所以，这个故事告诉我们：不能直接拿爸爸的东西噢，要自己创造嘛～
 */</span>

<span class="token comment">/**
 * 复习一下 --&gt; 简单数据类型 - 传值；复杂数据类型 - 传址
 */</span>
</code></pre></div><ul><li>好的继承原型方法 -</li></ul> <p><strong>[栗子]</strong> 实现某一个 div 限定拖拽范围</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * 第一个拖拽限定范围 - 使用“继承”实现
 */</span>
<span class="token keyword">function</span> <span class="token function">LimtDrag</span> <span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">Drag</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> el<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">LimtDrag</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token function">deepCopy</span><span class="token punctuation">(</span><span class="token class-name">Drag</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 指明其构造函数是哪个</span>
<span class="token class-name">LimtDrag</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> LimtDrag<span class="token punctuation">;</span>
<span class="token comment">// 重写样式设置</span>
<span class="token class-name">LimtDrag</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">setStyle</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">leftNum<span class="token punctuation">,</span> topNum</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 限定区域</span>
  <span class="token punctuation">(</span>leftNum <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>leftNum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">(</span>topNum <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>topNum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> leftNum <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> topNum <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> drag <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LimtDrag</span><span class="token punctuation">(</span>div1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> drag2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Drag</span><span class="token punctuation">(</span>div2<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="组合继承"><a href="#组合继承" aria-hidden="true" class="header-anchor">#</a> 组合继承</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Dad</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">Dad</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">Son</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">Dad</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> <span class="token function-variable function">Link</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token class-name">Link</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token class-name">Dad</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>
<span class="token class-name">Son</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Link</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Son</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> Son<span class="token punctuation">;</span>

<span class="token comment">// 其实就是要切断他们之间的联系 --&gt; 就是不能让他们指向相同的地址</span>
</code></pre></div><h2 id="类和对象"><a href="#类和对象" aria-hidden="true" class="header-anchor">#</a> 类和对象</h2> <ul><li>类 - 笼统，共性；</li> <li>对象 - 具体的某一个；</li></ul> <h2 id="原型的深拷贝继承"><a href="#原型的深拷贝继承" aria-hidden="true" class="header-anchor">#</a> 原型的深拷贝继承</h2> <h3 id="传值和传址问题"><a href="#传值和传址问题" aria-hidden="true" class="header-anchor">#</a> 传值和传址问题</h3> <ul><li>基本数据类型：<code>Number</code>、<code>String</code>、<code>Boolean</code>、<code>Null</code>、<code>Undefined</code>；</li> <li>复杂数据类型/引用数据类型：<code>Array</code>、<code>Date</code>、<code>Math</code>、<code>RegExp</code>、<code>Object</code>、<code>Function</code>等；</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> proto <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">'c'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> copy_proto <span class="token operator">=</span> proto<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>proto<span class="token punctuation">,</span> copy_proto<span class="token punctuation">)</span><span class="token punctuation">;</span>
copy_proto<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'cs'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>proto<span class="token punctuation">,</span> copy_proto<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>输出：</p> <p><img src="data:image/png;base64,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" alt="传值和传址问题"></p> <ol><li>直接赋值，会使得 <strong>同一地址有俩门牌</strong>；</li> <li>网上购物的时候，写两个门牌之一，都会送到一致的地址里面；</li> <li>谁向地址进行操作，都会一致影响地址；</li></ol> <p>解决: <strong>JSON 序列化</strong> （简单解决版 - 也就是不怎么好的法子）</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> proto <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">'c'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">/**
 * 深拷贝 - JSON 序列化
 */</span>
<span class="token keyword">let</span> copy_proto <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>proto<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
copy_proto<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'cs'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>proto<span class="token punctuation">,</span> copy_proto<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="json-序列化的不足"><a href="#json-序列化的不足" aria-hidden="true" class="header-anchor">#</a> JSON 序列化的不足</h3> <ul><li>若拷贝对象包含函数，或 undefined 等值，此方法就会出问题；</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> p <span class="token operator">=</span> <span class="token punctuation">{</span>
  c<span class="token punctuation">:</span> <span class="token string">'chen'</span><span class="token punctuation">,</span>
  s<span class="token punctuation">:</span> <span class="token string">'sheng'</span><span class="token punctuation">,</span>
  y<span class="token punctuation">:</span> <span class="token string">'yi'</span><span class="token punctuation">,</span>
  test1<span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  test2<span class="token punctuation">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span>
  <span class="token function-variable function">fn</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;it's fn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> copy_p <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
copy_p<span class="token punctuation">.</span>c <span class="token operator">=</span> <span class="token string">'chan'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span> copy_p<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>输出：</p> <p><img src="/assets/img/1002_deliver.fbf70665.png" alt="JSON 序列化的不足"></p> <p>问题：如图，属性，<code>undefined</code> 和 <code>fn</code> 都不见了哇...但 <code>null</code> 还在 +_+
（JSON 序列化不待见他们，就自动将他们去掉了...）
（视实际情况使用，别一杆子打死）</p> <p>解决：自己写个深拷贝呗～</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 递归深拷贝</span>
<span class="token keyword">function</span> <span class="token function">deepCopy</span> <span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 判断是对象还是数组</span>
  <span class="token keyword">let</span> newObj <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment">// 【 for...in 会循环原型上的东西，但这些东西又不一定要啊 】</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 判断是否是自身的属性</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'object'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 如果对象下的属性还是一个对象，再调用处理</span>
        newObj<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">deepCopy</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        newObj<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> newObj<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> p <span class="token operator">=</span> <span class="token punctuation">{</span>
  c<span class="token punctuation">:</span> <span class="token string">'chen'</span><span class="token punctuation">,</span>
  test1<span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  test2<span class="token punctuation">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span>
  <span class="token function-variable function">fn</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;it's fn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  obj<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> copy_p <span class="token operator">=</span> <span class="token function">deepCopy</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>
copy_p<span class="token punctuation">.</span>c <span class="token operator">=</span> <span class="token string">'chan'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span> copy_p<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>输出：</p> <p><img src="/assets/img/1002_deliver.fbf70665.png" alt="JSON 序列化的不足"></p> <p>问题：</p> <p>噗，哈哈哈哈哈，那个 <code>null</code> 变成了空对象啊 <code>{}</code>；</p> <h4 id="for-in-会循环原型上的东西："><a href="#for-in-会循环原型上的东西：" aria-hidden="true" class="header-anchor">#</a> for...in 会循环原型上的东西：</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> test <span class="token operator">=</span> <span class="token punctuation">{</span>
  test<span class="token punctuation">:</span> <span class="token string">'test'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
test<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>t <span class="token operator">=</span> <span class="token string">'proto_t'</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token keyword">in</span> test<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>test<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 输出</span>
test
proto_t
</code></pre></div><h4 id="判断实例属于哪个构造函数"><a href="#判断实例属于哪个构造函数" aria-hidden="true" class="header-anchor">#</a> 判断实例属于哪个构造函数</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 下面这深拷贝的方式其实是一种“覆盖”</span>
<span class="token class-name">Son</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token function">deepCopy</span><span class="token punctuation">(</span><span class="token class-name">Dad</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 需要将自己的构造函数也加进来噢</span>
<span class="token class-name">Son</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> Son<span class="token punctuation">;</span>
<span class="token comment">// 可判断实例是属于哪个构造函数的</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>son<span class="token punctuation">.</span>constructor<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>应用 - 判断系统预定义的对象：</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">'csy'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span>constructor<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>String<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span>constructor <span class="token operator">===</span> String<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre></div><h2 id="原型链"><a href="#原型链" aria-hidden="true" class="header-anchor">#</a> 原型链</h2> <ul><li>一层一层向上找，先找最接近自己的，没有就会继续找它上层的：</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 自己有，把自己的输出</span>
<span class="token keyword">function</span> <span class="token function">Person</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'csy'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'ccc'</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// csy</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ccc</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 自己没有，找上层的输出</span>
<span class="token keyword">function</span> <span class="token function">Person</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
<span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'ccc'</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ccc</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ccc</span>
</code></pre></div><ul><li>查找顺序： 属性&amp;方法 --&gt; Function 的属性&amp;方法 --&gt; object 的属性&amp;方法 --&gt; undefined</li></ul> <h4 id="最顶层的-object-prototype-是没有原型的咯"><a href="#最顶层的-object-prototype-是没有原型的咯" aria-hidden="true" class="header-anchor">#</a> 最顶层的 <code>Object.prototype</code> 是没有原型的咯</h4> <h3 id="instanceof-函数"><a href="#instanceof-函数" aria-hidden="true" class="header-anchor">#</a> instanceof 函数</h3> <ul><li>判断对象在原型链上是否有关系（其实还是有问题，不准确）</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr <span class="token keyword">instanceof</span> <span class="token class-name">Array</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true - 数组也是对象啊（原型链向上找）</span>

<span class="token comment">// 基础数据类型不行啊...</span>
<span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">'123'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str <span class="token keyword">instanceof</span> <span class="token class-name">String</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>

<span class="token comment">/**
 * 精确判断数据类型 - toString ********************
 */</span>
<span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> res2 <span class="token operator">=</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> res3 <span class="token operator">=</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 判断</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res <span class="token operator">===</span> <span class="token string">'[object Array]'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res2 <span class="token operator">===</span> <span class="token string">'[object Object]'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res3 <span class="token operator">===</span> <span class="token string">'[object String]'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre></div><h2 id="包装对象"><a href="#包装对象" aria-hidden="true" class="header-anchor">#</a> 包装对象</h2> <ul><li>除开 null、undefined，基本类型都有自己对应的包装对象；</li> <li>包装对象把所有的属性和方法给了基本类型，然后包装对象就消失了；</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * 一些数据类型啊，string/number/boolean
 * 没有用 new 的方式创建的话，输出也就是一个字符串/数字/布尔值
 * 但!是!你在后续的使用中，又可以以“.”的方式使用它相对应提供的方法诶
 */</span>
<span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">'c,s,y'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// c,s,y</span>
<span class="token keyword">let</span> str_arr <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str_arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;c&quot;, &quot;s&quot;, &quot;y&quot;]</span>

<span class="token comment">// 当你是 new 出来的时候</span>
<span class="token keyword">let</span> str2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">'c,s,y'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 老多方法了。。。</span>
</code></pre></div><p><img src="/assets/img/1401_oop.0cbe2fb9.gif" alt="包装对象"></p> <ul><li>当需要使用到一些自带方法的时候，系统会自动生成一个 <strong>包装对象</strong>（可生成包装对象的数据类型：String、Number、Boolean）；</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/** 系统可能就大概像酱紫做了些处理
 * 
 * str - 字符串
 * method - 方法
 * arg - 通过什么切割
 */</span>
<span class="token keyword">function</span> <span class="token function">mySplit</span> <span class="token punctuation">(</span><span class="token parameter">str<span class="token punctuation">,</span> method<span class="token punctuation">,</span> arg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 创建临时对象（代码完成就会自动销毁的了）</span>
  <span class="token keyword">let</span> temp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 包装</span>
  <span class="token keyword">return</span> temp<span class="token punctuation">[</span>method<span class="token punctuation">]</span><span class="token punctuation">(</span>arg<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">'c,s,y'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">mySplit</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> <span class="token string">'split'</span><span class="token punctuation">,</span> <span class="token string">','</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;c&quot;, &quot;s&quot;, &quot;y&quot;] </span>
</code></pre></div><h2 id="常用方法"><a href="#常用方法" aria-hidden="true" class="header-anchor">#</a> 常用方法</h2> <h3 id="hasownproperty"><a href="#hasownproperty" aria-hidden="true" class="header-anchor">#</a> hasOwnProperty()</h3> <p>看是不是对象自身底下的属性</p> <h3 id="constructor"><a href="#constructor" aria-hidden="true" class="header-anchor">#</a> constructor</h3> <p>查看对象的构造函数 - 可用于做判断</p> <h3 id="instanceof"><a href="#instanceof" aria-hidden="true" class="header-anchor">#</a> instanceof</h3> <p>对象与构造函数是否在原型链上有关系</p> <h3 id="tostring"><a href="#tostring" aria-hidden="true" class="header-anchor">#</a> toString()</h3> <p>判断类型 - 转换字符串，进制转换</p></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/SamyeChan/growing-up-docs/edit/master/packages/docs/docs/basic/js/面向对象/README.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">上次编辑: </span> <span class="time">1/2/2020, 11:11:02 AM</span></div></div> <!----> </div> <!----></div></div>
    <script src="/assets/js/app.5a4a4458.js" defer></script><script src="/assets/js/5.e78c3510.js" defer></script>
  </body>
</html>

<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Learn | 面向对象</title>
    <meta name="description" content="">
    
    
    <link rel="preload" href="/assets/css/0.styles.cd5c72c6.css" as="style"><link rel="preload" href="/assets/js/app.3f739354.js" as="script"><link rel="preload" href="/assets/js/9.ab4ee421.js" as="script"><link rel="prefetch" href="/assets/js/10.3fcc67b9.js"><link rel="prefetch" href="/assets/js/11.dc1da60f.js"><link rel="prefetch" href="/assets/js/12.e749ef43.js"><link rel="prefetch" href="/assets/js/13.7455a25f.js"><link rel="prefetch" href="/assets/js/14.32c6ff39.js"><link rel="prefetch" href="/assets/js/15.c72c8429.js"><link rel="prefetch" href="/assets/js/16.995b2042.js"><link rel="prefetch" href="/assets/js/17.a5ab183f.js"><link rel="prefetch" href="/assets/js/18.fd744649.js"><link rel="prefetch" href="/assets/js/19.fbea575a.js"><link rel="prefetch" href="/assets/js/2.d233157e.js"><link rel="prefetch" href="/assets/js/20.48702ac2.js"><link rel="prefetch" href="/assets/js/21.96345291.js"><link rel="prefetch" href="/assets/js/22.dcbb36e4.js"><link rel="prefetch" href="/assets/js/23.6e6c4e30.js"><link rel="prefetch" href="/assets/js/24.3061ce3a.js"><link rel="prefetch" href="/assets/js/25.61d25128.js"><link rel="prefetch" href="/assets/js/26.122f3b54.js"><link rel="prefetch" href="/assets/js/27.18d4801e.js"><link rel="prefetch" href="/assets/js/28.915f00ac.js"><link rel="prefetch" href="/assets/js/29.214a9a56.js"><link rel="prefetch" href="/assets/js/3.aa392f27.js"><link rel="prefetch" href="/assets/js/30.ac128b21.js"><link rel="prefetch" href="/assets/js/31.d5f6a8ed.js"><link rel="prefetch" href="/assets/js/32.9ca0d427.js"><link rel="prefetch" href="/assets/js/33.4c653146.js"><link rel="prefetch" href="/assets/js/34.5003c5ff.js"><link rel="prefetch" href="/assets/js/35.82ef2dae.js"><link rel="prefetch" href="/assets/js/36.e0ed49ee.js"><link rel="prefetch" href="/assets/js/37.c4c7ab6b.js"><link rel="prefetch" href="/assets/js/38.8096d2e8.js"><link rel="prefetch" href="/assets/js/39.cc3e14ac.js"><link rel="prefetch" href="/assets/js/4.ec54bd87.js"><link rel="prefetch" href="/assets/js/40.57132358.js"><link rel="prefetch" href="/assets/js/41.9cf5c4d4.js"><link rel="prefetch" href="/assets/js/42.be65e500.js"><link rel="prefetch" href="/assets/js/43.bfad5580.js"><link rel="prefetch" href="/assets/js/44.f53da215.js"><link rel="prefetch" href="/assets/js/45.99ddee98.js"><link rel="prefetch" href="/assets/js/46.ebed1c1e.js"><link rel="prefetch" href="/assets/js/47.8547e50e.js"><link rel="prefetch" href="/assets/js/48.5d4b87bf.js"><link rel="prefetch" href="/assets/js/49.be6dab84.js"><link rel="prefetch" href="/assets/js/5.2c52df88.js"><link rel="prefetch" href="/assets/js/50.3ecb7782.js"><link rel="prefetch" href="/assets/js/51.f0078910.js"><link rel="prefetch" href="/assets/js/52.031af11f.js"><link rel="prefetch" href="/assets/js/53.1b7ada4d.js"><link rel="prefetch" href="/assets/js/54.4393e0a6.js"><link rel="prefetch" href="/assets/js/55.82776d0d.js"><link rel="prefetch" href="/assets/js/56.a1eb3fbc.js"><link rel="prefetch" href="/assets/js/57.24a612ec.js"><link rel="prefetch" href="/assets/js/58.85f6804c.js"><link rel="prefetch" href="/assets/js/59.fecbf488.js"><link rel="prefetch" href="/assets/js/6.897d5886.js"><link rel="prefetch" href="/assets/js/60.53f412d4.js"><link rel="prefetch" href="/assets/js/61.2ef0fd34.js"><link rel="prefetch" href="/assets/js/62.3f80c557.js"><link rel="prefetch" href="/assets/js/63.6c92c23b.js"><link rel="prefetch" href="/assets/js/64.7c17f7e1.js"><link rel="prefetch" href="/assets/js/65.5c2bb68a.js"><link rel="prefetch" href="/assets/js/66.d5a28689.js"><link rel="prefetch" href="/assets/js/67.feb667a7.js"><link rel="prefetch" href="/assets/js/68.5f3a6542.js"><link rel="prefetch" href="/assets/js/69.8593da36.js"><link rel="prefetch" href="/assets/js/7.c10ee22a.js"><link rel="prefetch" href="/assets/js/70.90891e5d.js"><link rel="prefetch" href="/assets/js/71.4db676fb.js"><link rel="prefetch" href="/assets/js/72.1e6059c4.js"><link rel="prefetch" href="/assets/js/73.278e9187.js"><link rel="prefetch" href="/assets/js/74.8237a006.js"><link rel="prefetch" href="/assets/js/75.88de9850.js"><link rel="prefetch" href="/assets/js/76.a613f15d.js"><link rel="prefetch" href="/assets/js/77.f6bb680a.js"><link rel="prefetch" href="/assets/js/78.b97b5057.js"><link rel="prefetch" href="/assets/js/79.5648ebd7.js"><link rel="prefetch" href="/assets/js/8.dea8a7c6.js"><link rel="prefetch" href="/assets/js/80.3c2e52a3.js"><link rel="prefetch" href="/assets/js/81.1845567b.js"><link rel="prefetch" href="/assets/js/82.1aace9c3.js"><link rel="prefetch" href="/assets/js/83.1c0e71d1.js"><link rel="prefetch" href="/assets/js/84.1ce77713.js"><link rel="prefetch" href="/assets/js/85.d1a98b30.js"><link rel="prefetch" href="/assets/js/86.58fff289.js">
    <link rel="stylesheet" href="/assets/css/0.styles.cd5c72c6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">快速跳转</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vue/learn-basic.html" class="nav-link">Vue</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">快速跳转</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vue/learn-basic.html" class="nav-link">Vue</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading"><span>起始</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Vue</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>公众号/小程序</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>HTML</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>CSS</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>JavaScript</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/js/dom/" class="sidebar-link">Learn | DOM</a></li><li><a href="/js/bom/" class="sidebar-link">Learn | BOM</a></li><li><a href="/js/event/" class="sidebar-link">Learn | Event</a></li><li><a href="/js/async/" class="sidebar-link">Learn | 异步处理</a></li><li><a href="/js/animation/" class="sidebar-link">Learn | 动画</a></li><li><a href="/js/oop/" class="active sidebar-link">Learn | 面向对象</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/js/oop/#一个栗子" class="sidebar-link">一个栗子</a></li><li class="sidebar-sub-header"><a href="/js/oop/#工厂模式" class="sidebar-link">工厂模式</a></li><li class="sidebar-sub-header"><a href="/js/oop/#new-运算符" class="sidebar-link">new 运算符</a></li><li class="sidebar-sub-header"><a href="/js/oop/#构造函数" class="sidebar-link">构造函数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/js/oop/#构造函数与工厂模式类似；" class="sidebar-link">构造函数与工厂模式类似；</a></li></ul></li><li class="sidebar-sub-header"><a href="/js/oop/#原型-prototype" class="sidebar-link">原型 prototype</a></li><li class="sidebar-sub-header"><a href="/js/oop/#面向对象和面向过程编程" class="sidebar-link">面向对象和面向过程编程</a></li><li class="sidebar-sub-header"><a href="/js/oop/#类和对象" class="sidebar-link">类和对象</a></li></ul></li><li><a href="/js/js/" class="sidebar-link">Learn | 开始</a></li><li><a href="/js/js/js-function.html" class="sidebar-link">Learn | 函数</a></li><li><a href="/js/js/js-face-to-object.html" class="sidebar-link">Learn | 面向对象编程</a></li><li><a href="/js/note-about-this.html" class="sidebar-link">Note | 判断this指向</a></li><li><a href="/js/note-js-es6.html" class="sidebar-link">Note | JS &amp; ES6</a></li><li><a href="/js/es6/" class="sidebar-link">Learn | ECAMScript 6</a></li><li><a href="/js/ts/" class="sidebar-link">Learn | TypeScript</a></li><li><a href="/js/note-useful-function.html" class="sidebar-link">Use | 常用方法</a></li><li><a href="/js/js/uDontKnowJS/book-1.html" class="sidebar-link">Read |《你不知道的JS·上》</a></li><li><a href="/js/class/" class="sidebar-link">Class |《JS高级工程师》</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>阅读理解</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>其他辅助</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="learn-面向对象"><a href="#learn-面向对象" aria-hidden="true" class="header-anchor">#</a> Learn | 面向对象</h1> <h2 id="一个栗子"><a href="#一个栗子" aria-hidden="true" class="header-anchor">#</a> 一个栗子</h2> <h4 id="需求：实现多个选项卡"><a href="#需求：实现多个选项卡" aria-hidden="true" class="header-anchor">#</a> 需求：实现多个选项卡</h4> <ul><li>先实现一个选项卡；</li> <li>将单个选项卡实现方式封装；</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * 封装 - 选项卡
 */</span>
<span class="token keyword">function</span> <span class="token function">Tab</span> <span class="token punctuation">(</span><span class="token parameter">btns<span class="token punctuation">,</span> ps</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  btns<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    item<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      ps<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">it<span class="token punctuation">,</span> idx</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>idx <span class="token operator">===</span> index<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          btns<span class="token punctuation">[</span>idx<span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>background <span class="token operator">=</span> <span class="token string">'orange'</span><span class="token punctuation">;</span>
          ps<span class="token punctuation">[</span>idx<span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">'block'</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          btns<span class="token punctuation">[</span>idx<span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>background <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
          ps<span class="token punctuation">[</span>idx<span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">'none'</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 获取元素</span>
<span class="token keyword">let</span> btns <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'.div1 button'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> ps <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'.div1 p'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> btns2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'.div2 button'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> ps2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'.div2 p'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 使用方法</span>
<span class="token function">Tab</span><span class="token punctuation">(</span>btns<span class="token punctuation">,</span> ps<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">Tab</span><span class="token punctuation">(</span>btns2<span class="token punctuation">,</span> ps2<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>效果：</p> <p><img src="/assets/img/0101_democard.9641b782.gif" alt="实现多个选项卡"></p> <h4 id="需求变更：第一个选项卡实现点击切换下一页功能"><a href="#需求变更：第一个选项卡实现点击切换下一页功能" aria-hidden="true" class="header-anchor">#</a> 需求变更：第一个选项卡实现点击切换下一页功能</h4> <ul><li>点击按钮，第一个选项卡有下一页功能；</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * 封装 - 选项卡
 * 
 * btns - 选项卡按钮
 * ps - 选项卡内容
 * isNext - 是否含有下一页功能（true/false，无参数时默认 false）
 * （要实现第一个选项卡下一页切换，必须设置一个控制变量，否则会被后面的选项卡覆盖）
 */</span>
<span class="token keyword">function</span> <span class="token function">Tab</span> <span class="token punctuation">(</span><span class="token parameter">btns<span class="token punctuation">,</span> ps<span class="token punctuation">,</span> isNext <span class="token operator">=</span> <span class="token boolean">false</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  btns<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>

    <span class="token operator">...</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>isNext<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 有下一页功能</span>
      <span class="token keyword">let</span> num <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
      document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.nextBtn'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        num<span class="token operator">++</span><span class="token punctuation">;</span>
        num <span class="token operator">=</span> num <span class="token operator">&gt;</span> <span class="token punctuation">(</span>btns<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token punctuation">:</span> num<span class="token punctuation">;</span>
        ps<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">it<span class="token punctuation">,</span> idx</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>idx <span class="token operator">==</span> num<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            btns<span class="token punctuation">[</span>idx<span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>background <span class="token operator">=</span> <span class="token string">'orange'</span><span class="token punctuation">;</span>
            ps<span class="token punctuation">[</span>idx<span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">'block'</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            btns<span class="token punctuation">[</span>idx<span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>background <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
            ps<span class="token punctuation">[</span>idx<span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">'none'</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>效果：</p> <p><img src="/assets/img/0102_democard.37d141c4.gif" alt="第一个选项卡实现点击切换下一页功能"></p> <ul><li>如果直接在封装函数内进行下一页功能的编写，其实最终功能只会被赋予最后一个选项卡中；</li></ul> <h4 id="需求变更：第二个选项卡实现自动轮播"><a href="#需求变更：第二个选项卡实现自动轮播" aria-hidden="true" class="header-anchor">#</a> 需求变更：第二个选项卡实现自动轮播</h4> <ul><li>和前一个需求变更相同；</li> <li>再添加一个参数来控制；</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>isAutoPlay<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 控制自动轮播</span>
  <span class="token keyword">let</span> num <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.autoPlayBtn'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      num<span class="token operator">++</span><span class="token punctuation">;</span>
      num <span class="token operator">=</span> num <span class="token operator">&gt;</span> <span class="token punctuation">(</span>btns<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token punctuation">:</span> num<span class="token punctuation">;</span>
      <span class="token function">psFor</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/**
 * 现在这个方法肯定有bug，
 * 比如不停地点，轮播速度会越来越快，
 * BUT，这就是个demo啊...
 * 莫啷个较真，我也就提醒一下，不要上来就复制代码
 */</span>
</code></pre></div><p>效果：</p> <p><img src="/assets/img/0103_democard.1c81221a.gif" alt="第二个选项卡实现自动轮播"></p> <ul><li>你看，这两个需求变更就让传入参数多了俩，但其实一般来说嘞，这种情况下的参数是会以 <strong>对象</strong> 的类型传入的咯～</li></ul> <h4 id="改造选项卡"><a href="#改造选项卡" aria-hidden="true" class="header-anchor">#</a> 改造选项卡</h4> <ul><li>上面虽然将功能实现了，但是实现方式不佳；</li> <li>一般来说封装的方法中就不应该有一些非共性的东西存在；</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Tab</span> <span class="token punctuation">(</span><span class="token parameter">btns<span class="token punctuation">,</span> ps</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>

  <span class="token comment">/**
   * 某个函数必须存在于封装函数内部，
   * 但其又具有一定的特殊性，
   * 那就可以向外返回这个函数啊，
   * 让它在封装函数外使用
   */</span>
  <span class="token keyword">return</span> psFor<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/**
 * 在封装函数外的使用
 */</span>
<span class="token keyword">let</span> btns <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'.div1 button'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> ps <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'.div1 p'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 拿到的</span>
<span class="token keyword">let</span> tab <span class="token operator">=</span> <span class="token function">Tab</span><span class="token punctuation">(</span>btns<span class="token punctuation">,</span> ps<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 有下一页功能（单独处理了）</span>
<span class="token keyword">let</span> num <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.nextBtn'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  num<span class="token operator">++</span><span class="token punctuation">;</span>
  num <span class="token operator">=</span> num <span class="token operator">&gt;</span> <span class="token punctuation">(</span>btns<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token punctuation">:</span> num<span class="token punctuation">;</span>
  <span class="token function">tab</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>共性特征，放函数/类里；</li> <li>少数（传参数配置）/个别特殊，返还单独处理；</li></ul> <h4 id="需求变更：多个选项卡分别更改数量"><a href="#需求变更：多个选项卡分别更改数量" aria-hidden="true" class="header-anchor">#</a> 需求变更：多个选项卡分别更改数量</h4> <ul><li>函数内 <code>return</code> 一个对象，将外用函数、相关参数放置于内：</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Tab</span> <span class="token punctuation">(</span><span class="token parameter">btns<span class="token punctuation">,</span> ps</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span> psFor<span class="token punctuation">,</span> TabNum<span class="token punctuation">:</span> btns<span class="token punctuation">.</span>length <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 当 value &amp; key 同名时，可合并书写噢</span>
</code></pre></div><ul><li>上面这个栗子，其实用的是『 工厂模式 』</li></ul> <h2 id="工厂模式"><a href="#工厂模式" aria-hidden="true" class="header-anchor">#</a> 工厂模式</h2> <p>基于上面的小栗子，写一个简单的工厂模式～</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * 工厂模式
 */</span>
<span class="token keyword">function</span> <span class="token function">Tab</span><span class="token punctuation">(</span><span class="token parameter">btns<span class="token punctuation">,</span> ps</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 00 加原料</span>
  <span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment">// 01 加工原料</span>
  obj<span class="token punctuation">.</span>tabNum <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
  obj<span class="token punctuation">.</span><span class="token function-variable function">psFor</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'psFor'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment">// 02 出厂</span>
  <span class="token keyword">return</span> obj<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> tab1 <span class="token operator">=</span> <span class="token function">Tab</span><span class="token punctuation">(</span><span class="token string">'参数1'</span><span class="token punctuation">,</span> <span class="token string">'参数2'</span><span class="token punctuation">)</span>
<span class="token comment">// 自己的逻辑</span>
tab1<span class="token punctuation">.</span><span class="token function">psFor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> tab2 <span class="token operator">=</span> <span class="token function">Tab</span><span class="token punctuation">(</span><span class="token string">'参数1'</span><span class="token punctuation">,</span> <span class="token string">'参数2'</span><span class="token punctuation">)</span>
<span class="token comment">// 自己的逻辑</span>
tab2<span class="token punctuation">.</span><span class="token function">psFor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>优点：解决了代码复用的问题；</li> <li>缺点：
<ol><li>没有解决对象识别的问题，即创建的所有实例都是 Object 类型；</li> <li>没有原型，占用内存；</li></ol></li></ul> <h2 id="new-运算符"><a href="#new-运算符" aria-hidden="true" class="header-anchor">#</a> new 运算符</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/*
 * new 运算符
 *
 * 功能： 1- (直接)执行函数
 *       2- 自动创建一个空对象；
 *       3- 把空对象指向另外一个对象；
 *       4- 将 this 绑定到这个空对象；
 *       5- 隐式返还 this；
 */</span>
<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="直接-执行函数"><a href="#直接-执行函数" aria-hidden="true" class="header-anchor">#</a> (直接)执行函数</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">test</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'test...'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">new</span> <span class="token class-name">test</span><span class="token punctuation">;</span>
<span class="token keyword">new</span> <span class="token class-name">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>上述3种方式均可进行 test 函数中的正常打印；</li> <li>其中，后2中 <code>new</code> 形式的对比，说明了 <code>new运算符</code> 的函数自执行性；</li></ul> <h4 id="自动创建一个空对象-把空对象指向另外一个对象"><a href="#自动创建一个空对象-把空对象指向另外一个对象" aria-hidden="true" class="header-anchor">#</a> 自动创建一个空对象 &amp; 把空对象指向另外一个对象</h4> <h4 id="将-this-绑定到这个空对象-隐式返还-this"><a href="#将-this-绑定到这个空对象-隐式返还-this" aria-hidden="true" class="header-anchor">#</a> 将 this 绑定到这个空对象 &amp; 隐式返还 this</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * 工厂模式 - 使用 new 运算符的话
 */</span>
<span class="token keyword">function</span> <span class="token function">Tab</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 00 加原料</span>
  <span class="token comment">// let obj = {}; ---&gt; 将 this 绑定到这个空对象</span>
  <span class="token comment">//（所以new的话，直接可以使用this 进行后续操作，而不需要）</span>
  <span class="token comment">// 01 加工原料</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>tabNum <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">psFor</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'psFor'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment">// 02 出厂</span>
  <span class="token comment">// return obj; ---&gt; new 可以隐式返还 this，故此处可以省略 return</span>

  <span class="token comment">/**
   * 有 return 执行 return，没 return 就会把 this 返回来
   * 
   *（但一般不会自己返换，直接返回 this 就好啦）
   */</span>
<span class="token punctuation">}</span>
<span class="token comment">// new 实例化</span>
<span class="token comment">// new 把空对象指向另外一个对象 ---&gt; 所以方法中返回的 this 就指向了新的那个 tab</span>
<span class="token keyword">let</span> tab <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Tab</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
tab<span class="token punctuation">.</span><span class="token function">psFor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>然后，我发现，用 new 改改改以后，这个栗子...变成了一个构造函数？？？</p> <h2 id="构造函数"><a href="#构造函数" aria-hidden="true" class="header-anchor">#</a> 构造函数</h2> <ul><li>相比之下，工厂模式用得少，构造函数用得多；</li> <li>构造函数约定俗成首字母大写；</li> <li>类似一个 <code>类</code> 的概念（ES6之前，这个构造函数都是模拟的一个类的概念，但它终究不是啊）；</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 构造函数</span>
<span class="token keyword">function</span> <span class="token function">Tab</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>tabNum <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">psFor</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'psFor'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/**
 * 仿写 new 运算符（new 的运行原理）
 */</span>
<span class="token keyword">function</span> <span class="token function">myNew</span> <span class="token punctuation">(</span><span class="token parameter">constructor<span class="token punctuation">,</span> <span class="token operator">...</span>arg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token function">constructor</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token operator">...</span>arg<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 改变传入函数指向新创建的对象</span>
  obj<span class="token punctuation">.</span>_proto_ <span class="token operator">=</span> constructor<span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>
  <span class="token keyword">return</span> obj<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> tab <span class="token operator">=</span> <span class="token function">myNew</span><span class="token punctuation">(</span>Tab<span class="token punctuation">)</span><span class="token punctuation">;</span>
tab<span class="token punctuation">.</span><span class="token function">psFor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="构造函数与工厂模式类似；"><a href="#构造函数与工厂模式类似；" aria-hidden="true" class="header-anchor">#</a> 构造函数与工厂模式类似；</h3> <h4 id="构造函数写法更简单"><a href="#构造函数写法更简单" aria-hidden="true" class="header-anchor">#</a> 构造函数写法更简单</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * 工厂模式
 */</span>
<span class="token keyword">function</span> <span class="token function">Tab</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  obj<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'samyechan'</span><span class="token punctuation">;</span>
  obj<span class="token punctuation">.</span><span class="token function-variable function">hobby</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">' loves running'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> obj<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> tab <span class="token operator">=</span> <span class="token function">Tab</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
tab<span class="token punctuation">.</span><span class="token function">hobby</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * 构造函数
 */</span>
<span class="token keyword">function</span> <span class="token function">Tab2</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'alexwww'</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">hobby</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">' loves swimming'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> tab2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Tab2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
tab2<span class="token punctuation">.</span><span class="token function">hobby</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="构造函数性能更佳"><a href="#构造函数性能更佳" aria-hidden="true" class="header-anchor">#</a> 构造函数性能更佳</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 工厂模式</span>
<span class="token keyword">let</span> tab001 <span class="token operator">=</span> <span class="token function">Tab</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> tab002 <span class="token operator">=</span> <span class="token function">Tab</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tab001<span class="token punctuation">.</span>hobby <span class="token operator">===</span> tab002<span class="token punctuation">.</span>hobby<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tab001<span class="token punctuation">.</span>hobby <span class="token operator">==</span> tab002<span class="token punctuation">.</span>hobby<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token comment">/**
 * tab001 和 tab002 在内存中是两个不同的空间
 * 虽然他们里面的东西一致，但实际他们的 this 是不同的
 * 
 * --- 一样的东西存在这么多，消耗内存啊 ---
 */</span>

<span class="token comment">// 如果向上面那样写构造函数....</span>
<span class="token keyword">let</span> tab1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Tab2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> tab2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Tab2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tab1<span class="token punctuation">.</span>hobby <span class="token operator">===</span> tab2<span class="token punctuation">.</span>hobby<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tab1<span class="token punctuation">.</span>hobby <span class="token operator">==</span> tab2<span class="token punctuation">.</span>hobby<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token comment">/**
 * tab1 和 tab2 还是两个不同的东西啊！！！！！！
 * 但构造函数中有方法去改变它～～
 * 
 * 提供了一个公共的空间（原型[原型也是个对象噢]） ---&gt; 节约内存啊
 * 
 * 一个实例化对象 = 构造函数 + 原型
 */</span>

<span class="token comment">// 这个时候，再酱紫写...</span>
<span class="token keyword">function</span> <span class="token function">Tab2</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'alexwww'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">Tab2</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">hobby</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'loves swimming'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> tab1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Tab2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> tab2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Tab2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tab1<span class="token punctuation">.</span>hobby <span class="token operator">===</span> tab2<span class="token punctuation">.</span>hobby<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tab1<span class="token punctuation">.</span>hobby <span class="token operator">==</span> tab2<span class="token punctuation">.</span>hobby<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token comment">/**
 * 都 true 了，有没有！！！
 * 
 * ps：对象比较 ---&gt; 1.值一样； 2.地址一样；
 *     简单数据类型都是新开辟地址，不涉及传值传参问题；
 */</span>
</code></pre></div><ul><li>每一个函数都会有一个 prototype；</li> <li>一般 prototype 都写在函数外面，这样会更好区分；</li></ul> <h2 id="原型-prototype"><a href="#原型-prototype" aria-hidden="true" class="header-anchor">#</a> 原型 prototype</h2> <ul><li><code>obj._proto_ === Obj.prototype</code>；</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 继续上例</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tab1<span class="token punctuation">.</span>_proto_ <span class="token operator">===</span> <span class="token class-name">Tab1</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><ul><li>通过 new 实例化出来的对象，其属性和行为来自两个部分：
<ol><li>来自构造函数；</li> <li>来自原型；</li></ol></li> <li>当声明一个函数时，同时也声明了一个原型；</li> <li>原型本身就是一个对象；</li> <li>对象属性方法查找规则：</li></ul> <h4 id="两种写法"><a href="#两种写法" aria-hidden="true" class="header-anchor">#</a> 两种写法</h4> <ul><li>基于上述栗子的比较（如果你不记得栗子了，那就跳过，直接看下一个代码）：</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 01 最佳 - 不会弄丢 constructor</span>
<span class="token class-name">Tab2</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">hobby</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'loves swimming'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 02 原型又一个预定义属性：constructor，指向构造函数</span>
cosnole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Tab2<span class="token operator">/</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Tab2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token comment">// 如果像下面直接这样写，会把预定义的 constructor 弄丢(覆盖)噢</span>
<span class="token class-name">Tab2</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">hobby</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'loves swimming'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 所以如果要用 02 的方式写，得再加上 constructor 啊</span>
<span class="token class-name">Tab2</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span>
  constructor<span class="token punctuation">:</span> Tab2<span class="token punctuation">,</span>
  <span class="token function">hobby</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'loves swimming'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>简单总结：</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> prototype <span class="token operator">=</span> <span class="token punctuation">{</span>
  constructor<span class="token punctuation">:</span> <span class="token string">'构造函数'</span> <span class="token comment">// 这看作 ---&gt; 预定义（系统自己给我们写好的）</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 下面就像是在追加属性或方法咯</span>
prototype<span class="token punctuation">.</span><span class="token function-variable function">hobby</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'喜欢篮球'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 但如果你是酱紫写的话...</span>
prototype <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">hobby</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'喜欢唱歌'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/**
 * 是不是就直接把系统预定义的部分一并覆盖了啊～～～当然是
 * 所以当以上面这种覆盖的方法写的时候，要把预定义的部分也一并写一写噢
 */</span>
 prototype <span class="token operator">=</span> <span class="token punctuation">{</span>
  constructor<span class="token punctuation">:</span> <span class="token string">'构造函数'</span><span class="token punctuation">,</span>
  <span class="token function">hobby</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'喜欢唱歌'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>二者，一个是 <strong>追加</strong>，一个是 <strong>覆盖</strong>；</li> <li>实例化的对象包含了<strong>构造函数</strong> &amp; <strong>原型</strong>；</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// new一个对象</span>
<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
obj<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'c'</span><span class="token punctuation">;</span>
obj<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">22</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">' - - - - - new 出来的 - - - - -'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 直接加在了原型上</span>
<span class="token keyword">let</span> obj2 <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">'cc'</span><span class="token punctuation">,</span>
  age<span class="token punctuation">:</span> <span class="token number">18</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">' - - - - - create 出来的 - - - - -'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj2<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>输出：</p> <p><img src="/assets/img/0104_initObj.ad298165.png" alt="创建对象的两种方式差异"></p> <ul><li>前者直接赋值于实例化的对象，后者是将属性/方法添加到了原型之中；</li> <li>相同的东西放在原型上对内存友好，能提高性能；</li> <li>就虽说放构造函数中也能完成功能，但是没实例化一个对象，就会为这些“相同”的属性/方法开辟新的地方 ---&gt; 你说浪不浪费空间，占不占内存啊？</li></ul> <h2 id="面向对象和面向过程编程"><a href="#面向对象和面向过程编程" aria-hidden="true" class="header-anchor">#</a> 面向对象和面向过程编程</h2> <ul><li>面向过程 - 注重步骤；</li></ul> <h2 id="类和对象"><a href="#类和对象" aria-hidden="true" class="header-anchor">#</a> 类和对象</h2> <ul><li>类 - 笼统，共性；</li> <li>对象 - 具体的某一个；</li></ul></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/js/animation/" class="prev">
          Learn | 动画
        </a></span> <span class="next"><a href="/js/js/">
          Learn | 开始
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/assets/js/app.3f739354.js" defer></script><script src="/assets/js/9.ab4ee421.js" defer></script>
  </body>
</html>
